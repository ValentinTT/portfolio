---
import Layout from "../../layouts/Layout.astro";
import Navbar from "../../components/Navbar/BlogNavbar.astro";
import { getTaxonomy } from "../../content/utils";
import TechBadge from "../../components/TechBadge.astro";

// src/pages/tags/index.astro
const tags = (await getTaxonomy("blog", "tags")).map((v) => v.value);

const gradients = [
  "bg-gradient-to-r from-green-300 via-blue-500 to-purple-600",
  "bg-gradient-to-r from-yellow-300 via-red-500 to-pink-600",
  "bg-gradient-to-r from-pink-300 via-purple-500 to-indigo-600",
  "bg-gradient-to-r from-indigo-300 via-blue-500 to-green-600",
  "bg-gradient-to-r from-red-300 via-yellow-500 to-orange-600",
  "bg-gradient-to-r from-purple-300 via-pink-500 to-red-600",
  "bg-gradient-to-r from-blue-300 via-teal-500 to-green-600",
  "bg-gradient-to-r from-orange-300 via-red-500 to-yellow-600",
  "bg-gradient-to-r from-teal-300 via-cyan-500 to-blue-600",
  "bg-gradient-to-r from-gray-300 via-gray-500 to-gray-700",
  "bg-gradient-to-r from-green-200 via-green-400 to-green-600",
  "bg-gradient-to-r from-blue-200 via-blue-400 to-blue-600",
  "bg-gradient-to-r from-red-200 via-red-400 to-red-600",
  "bg-gradient-to-r from-purple-200 via-purple-400 to-purple-600",
  "bg-gradient-to-r from-pink-200 via-pink-400 to-pink-600",
  "bg-gradient-to-r from-yellow-200 via-yellow-400 to-yellow-600",
  "bg-gradient-to-r from-orange-200 via-orange-400 to-orange-600",
  "bg-gradient-to-r from-teal-200 via-teal-400 to-teal-600",
  "bg-gradient-to-r from-cyan-200 via-cyan-400 to-cyan-600",
  "bg-gradient-to-r from-lime-200 via-lime-400 to-lime-600",
  // Add more gradients as needed
];
const getRandomGradient = () => {
  return gradients[Math.floor(Math.random() * gradients.length)];
};
---

<Layout
  title="Blog"
  description="What I've been up to."
  class="bg-background"
  bgClass=""
>
  <Navbar slot="navbar" />
  <div class="h-16"></div>
  <div
    class="min-h-screen w-full flex flex-col xl:flex-row justify-between items-center xl:items-start bg-transparent xl:bg-background-100 dark:xl:bg-background"
  >
    <div
      class="xl:grow lg:py-18 py-12 sm:py-14 md:py-16 xl:py-20 xl:sticky xl:top-0 flex flex-col gap-6 text-center"
    >
      <h1
        class="heading-3 mx-auto max-w-screen-lg sm:heading-2 lg:heading-1 text-4xl"
      >
        Log
      </h1>
      <p class="body text-astro-gray-200 md:body-large text-xl">
        But only the tags!
      </p>
    </div>
    <div
      class="grow flex flex-col items-center justify-between gap-20 p-8 lg:p-12 xl:p-20 bg-background-300 dark:bg-background-50 max-w-5xl w-full md:w-fit md:min-h-screen"
    >
      <div
        class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"
      >
        {
          tags.map((tag) => (
            <a href={`/tags/${tag}`}>
              <TechBadge
                fromToVia={getRandomGradient()}
                class="w-full text-center"
              >
                {tag}
              </TechBadge>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</Layout>
